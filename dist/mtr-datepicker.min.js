function MtrDatepicker(e) {
    function t(e) {
        n = function() {
            var e = {
                isChrome: !1,
                isSafari: !1,
                isFirefox: !1
            };
            0 <= navigator.userAgent.search("Safari") && navigator.userAgent.search("Chrome") < 0 && (e.isSafari = !0);
            return e;
        }(), u(e) ? (m(e), l = J(c.targetElement), v(), p(), f()) : console.error("Initialization of the datepicker is blocked because of erros in the config.");
    }
    function r(e, t) {
        e = void 0 !== e ? e : H(), t = void 0 !== t ? t : Y(), v(e, t), function(e, t) {
            var a = U(J(e), ".mtr-content"), n = U(a, ".mtr-values");
            n.parentNode.removeChild(n);
            var r = y({
                name: t.name,
                values: t.values,
                valuesNames: t.valuesNames
            });
            a.appendChild(r);
        }(c.references.dates, {
            name: "dates",
            values: c.defaultValues.dates,
            valuesNames: c.defaultValues.datesNames
        });
        var a = c.defaultValues.dates[c.defaultValues.dates.length - 1];
        a < S() && V(a);
    }
    var l, c = {
        targetElement: null,
        defaultValues: {
            hours: [],
            minutes: [],
            dates: [],
            datesNames: [],
            months: [],
            years: []
        },
        hours: {
            min: 1,
            max: 12,
            step: 1,
            maxlength: 2
        },
        minutes: {
            min: 0,
            max: 50,
            step: 10,
            maxlength: 2
        },
        months: {
            min: 0,
            max: 11,
            step: 1,
            maxlength: 2
        },
        years: {
            min: 2e3,
            max: 2030,
            step: 1,
            maxlength: 4
        },
        animations: !0,
        smartHours: !1,
        future: !1,
        disableAmPm: !1,
        validateAfter: !0,
        utcTimezone: 0,
        transitionDelay: 100,
        transitionValidationDelay: 500,
        references: {
            hours: null
        },
        monthsNames: {
            0: "Jan",
            1: "Feb",
            2: "Mar",
            3: "Apr",
            4: "May",
            5: "Jun",
            6: "Jul",
            7: "Aug",
            8: "Sep",
            9: "Oct",
            10: "Nov",
            11: "Dec"
        },
        daysNames: {
            0: "Sun",
            1: "Mon",
            2: "Tue",
            3: "Wed",
            4: "Thu",
            5: "Fri",
            6: "Sat"
        },
        timezones: null
    }, d = {
        date: null,
        timestamp: null,
        ampm: !0
    }, n = null, a = {
        all: [],
        time: [],
        date: [],
        hour: [],
        minute: [],
        ampm: [],
        day: [],
        month: [],
        year: []
    }, s = {
        onChange: Z(a),
        beforeChange: Z(a),
        afterChange: Z(a)
    }, i = {}, o = null, h = {}, m = function(e) {
        c.targetElement = e.target, c.animations = void 0 !== e.animations ? e.animations : c.animations, 
        c.future = void 0 !== e.future ? e.future : c.future, c.validateAfter = void 0 !== e.validateAfter ? e.validateAfter : c.validateAfter, 
        c.smartHours = void 0 !== e.smartHours ? e.smartHours : c.smartHours, c.disableAmPm = void 0 !== e.disableAmPm ? e.disableAmPm : c.disableAmPm, 
        c.disableAmPm && (c.hours.min = 0, c.hours.max = 23), d.date = e.timestamp ? new Date(e.timestamp) : new Date(), 
        d.date.setSeconds(0), void 0 !== e.utcTimezone ? (i.timezones = new MtrDatepickerTimezones(), 
        c.utcTimezone = i.timezones.getTimezone(e.utcTimezone)) : c.utcTimezone = {
            offset: void 0 !== e.utcTimezone ? e.utcTimezone : d.date.getTimezoneOffset() / 60 * -1
        };
        var t = d.date.getTime() + 60 * d.date.getTimezoneOffset() * 1e3 + 60 * c.utcTimezone.offset * 60 * 1e3;
        d.date = new Date(t), d.timestamp = d.date.getTime(), c.minutes.min = void 0 !== e.minutes && void 0 !== e.minutes.min ? parseInt(e.minutes.min) : c.minutes.min, 
        c.minutes.max = void 0 !== e.minutes && void 0 !== e.minutes.max ? parseInt(e.minutes.max) : c.minutes.max, 
        c.minutes.step = void 0 !== e.minutes && void 0 !== e.minutes.step ? parseInt(e.minutes.step) : c.minutes.step, 
        c.months.min = void 0 !== e.months && void 0 !== e.months.min ? parseInt(e.months.min) : c.months.min, 
        c.months.max = void 0 !== e.months && void 0 !== e.months.max ? parseInt(e.months.max) : c.months.max, 
        c.months.step = void 0 !== e.months && void 0 !== e.months.step ? parseInt(e.months.step) : c.months.step, 
        c.years.min = void 0 !== e.years && void 0 !== e.years.min ? parseInt(e.years.min) : c.years.min, 
        c.years.max = void 0 !== e.years && void 0 !== e.years.max ? parseInt(e.years.max) : c.years.max, 
        c.years.step = void 0 !== e.years && void 0 !== e.years.step ? parseInt(e.years.step) : c.years.step, 
        c.defaultValues.hours = B(c.hours), c.defaultValues.minutes = B(c.minutes), c.defaultValues.months = B(c.months), 
        c.defaultValues.years = B(c.years);
    }, u = function(e) {
        var t = !0;
        if (e.minutes && (void 0 === e.minutes.min || q(e.minutes.min) || (console.error("Invalid argument: minutes.min should be a number."), 
        t = !1), void 0 === e.minutes.max || q(e.minutes.max) || (console.error("Invalid argument: minutes.max should be a number."), 
        t = !1), void 0 === e.minutes.step || q(e.minutes.step) || (console.error("Invalid argument: minutes.step should be a number."), 
        t = !1), void 0 !== e.minutes.min && void 0 !== e.minutes.max && e.minutes.max < e.minutes.min && (console.error("Invalid argument: minutes.max should be larger than minutes.min."), 
        t = !1), void 0 !== e.minutes.min && void 0 !== e.minutes.max && void 0 !== e.minutes.step && e.minutes.step > e.minutes.max - e.minutes.min && (console.error("Invalid argument: minutes.step should be less than minutes.max-minutes.min."), 
        t = !1)), e.hours && (void 0 === e.hours.min || q(e.hours.min) || (console.error("Invalid argument: hours.min should be a number."), 
        t = !1), void 0 === e.hours.max || q(e.hours.max) || (console.error("Invalid argument: hours.max should be a number."), 
        t = !1), void 0 === e.hours.step || q(e.hours.step) || (console.error("Invalid argument: hours.step should be a number."), 
        t = !1), void 0 !== e.hours.min && void 0 !== e.hours.max && e.hours.max < e.hours.min && (console.error("Invalid argument: hours.max should be larger than hours.min."), 
        t = !1), void 0 !== e.hours.min && void 0 !== e.hours.max && void 0 !== e.hours.step && e.hours.step > e.hours.max - e.hours.min && (console.error("Invalid argument: hours.step should be less than hours.max-hours.min."), 
        t = !1)), e.dates && (void 0 === e.dates.min || q(e.dates.min) || (console.error("Invalid argument: dates.min should be a number."), 
        t = !1), void 0 === e.dates.max || q(e.dates.max) || (console.error("Invalid argument: dates.max should be a number."), 
        t = !1), void 0 === e.dates.step || q(e.dates.step) || (console.error("Invalid argument: dates.step should be a number."), 
        t = !1), void 0 !== e.dates.min && void 0 !== e.dates.max && e.dates.max < e.dates.min && (console.error("Invalid argument: dates.max should be larger than dates.min."), 
        t = !1), void 0 !== e.dates.min && void 0 !== e.dates.max && void 0 !== e.dates.step && e.dates.step > e.dates.max - e.dates.min && (console.error("Invalid argument: dates.step should be less than dates.max-dates.min."), 
        t = !1)), e.months && (void 0 === e.months.min || q(e.months.min) || (console.error("Invalid argument: months.min should be a number."), 
        t = !1), void 0 === e.months.max || q(e.months.max) || (console.error("Invalid argument: months.max should be a number."), 
        t = !1), void 0 === e.months.step || q(e.months.step) || (console.error("Invalid argument: months.step should be a number."), 
        t = !1), void 0 !== e.months.min && void 0 !== e.months.max && e.months.max < e.months.min && (console.error("Invalid argument: months.max should be larger than months.min."), 
        t = !1), void 0 !== e.months.min && void 0 !== e.months.max && void 0 !== e.months.step && e.months.step > e.months.max - e.months.min && (console.error("Invalid argument: months.step should be less than months.max-months.min."), 
        t = !1)), e.years && (void 0 === e.years.min || q(e.years.min) || (console.error("Invalid argument: years.min should be a number."), 
        t = !1), void 0 === e.years.max || q(e.years.max) || (console.error("Invalid argument: years.max should be a number."), 
        t = !1), void 0 === e.years.step || q(e.years.step) || (console.error("Invalid argument: years.step should be a number."), 
        t = !1), void 0 !== e.years.min && void 0 !== e.years.max && e.years.max < e.years.min && (console.error("Invalid argument: years.max should be larger than years.min."), 
        t = !1), void 0 !== e.years.min && void 0 !== e.years.max && void 0 !== e.years.step && e.years.step > e.years.max - e.years.min && (console.error("Invalid argument: years.step should be less than years.max-years.min."), 
        t = !1)), e.timestamp && e.future) {
            var a = new Date(e.timestamp), n = new Date();
            a.getTime() < n.getTime() && (console.error("Invalid argument: timestamp should be in the future if the future check is enabled."), 
            t = !1);
        }
        if (void 0 !== e.utcTimezone && "function" != typeof MtrDatepickerTimezones && (console.error("In order to use the timezones feature you should load the mtr-datepicker-timezones.min.js first."), 
        t = !1), !t) {
            for (l = J(e.target); l.firstChild; ) l.removeChild(l.firstChild);
            var r = document.createElement("div");
            R(r, "mtr-error-message"), r.appendChild(document.createTextNode("An error has occured during the initialization of the datepicker.")), 
            l.appendChild(r);
        }
        return t;
    }, f = function() {}, v = function(e, t) {
        var a = function(e, t) {
            for (var a, n = new Date(t, e, 1), r = new Date(t, e + 1, 0), s = {
                values: [],
                names: [],
                min: n.getDate(),
                max: r.getDate(),
                step: 1
            }, i = n.getDate(); i <= r.getDate(); i++) a = new Date(t, e, i), s.values.push(i), 
            s.names[i] = c.daysNames[a.getDay()];
            return s;
        }(e = void 0 !== e ? e : H(), t = void 0 !== t ? t : Y());
        c.dates = {
            min: a.min,
            max: a.max,
            step: a.step,
            maxlength: 2
        }, c.defaultValues.dates = a.values, c.defaultValues.datesNames = a.names;
    }, p = function() {
        for (X(l, "mtr-datepicker"), R(l, "mtr-datepicker"); l.firstChild; ) l.removeChild(l.firstChild);
        var e, t = g({
            name: "hours",
            values: c.defaultValues.hours,
            value: A()
        }), a = g({
            name: "minutes",
            values: c.defaultValues.minutes,
            value: w()
        });
        c.disableAmPm || (e = b({
            name: "ampm"
        }));
        var n = document.createElement("div");
        n.className = "mtr-row";
        var r = document.createElement("div");
        r.className = "mtr-clearfix", n.appendChild(t), n.appendChild(a), c.disableAmPm || n.appendChild(e), 
        l.appendChild(n), l.appendChild(r);
        var s = g({
            name: "months",
            values: c.defaultValues.months,
            valuesNames: c.monthsNames,
            value: H()
        }), i = g({
            name: "dates",
            values: c.defaultValues.dates,
            valuesNames: c.defaultValues.datesNames,
            value: S()
        }), o = g({
            name: "years",
            values: c.defaultValues.years,
            value: Y()
        }), m = document.createElement("div");
        m.className = "mtr-row";
        var u = document.createElement("div");
        u.className = "mtr-clearfix", m.appendChild(s), m.appendChild(i), m.appendChild(o), 
        l.appendChild(m), l.appendChild(u), L(d.timestamp);
    }, g = function(i) {
        var e = document.createElement("div");
        e.className = "mtr-input-slider", c.references[i.name] = c.targetElement + "-input-" + i.name, 
        e.id = c.references[i.name];
        var t, a, n = ((t = document.createElement("div")).className = "mtr-arrow up", t.appendChild(document.createElement("span")), 
        t.addEventListener("click", function() {
            U(u, ".mtr-input"), R(u, "arrow-click"), R(s, "mtr-active"), h[i.name] && window.clearTimeout(h[i.name]), 
            h[i.name] = setTimeout(function() {
                X(u, "arrow-click"), X(s, "mtr-active");
            }, 1e3);
            var e, t = i.name;
            switch (t) {
              case "hours":
                e = A();
                break;

              case "minutes":
                e = w();
                break;

              case "dates":
                e = S();
                break;

              case "months":
                e = H();
                break;

              case "years":
                e = Y();
            }
            var a = c.defaultValues[t].indexOf(e);
            switch (++a >= c.defaultValues[t].length && (a = 0), t) {
              case "hours":
                var n = c.defaultValues[t][a];
                !c.disableAmPm && M() && 12 !== n && (n += 12), E(n);
                break;

              case "minutes":
                k(c.defaultValues[t][a]);
                break;

              case "dates":
                V(c.defaultValues[t][a]);
                break;

              case "months":
                P(c.defaultValues[t][a]);
                break;

              case "years":
                z(c.defaultValues[t][a]);
            }
        }, !1), t), r = ((a = document.createElement("div")).className = "mtr-arrow down", 
        a.appendChild(document.createElement("span")), a.addEventListener("click", function(e) {
            U(u, ".mtr-input"), R(u, "arrow-click"), R(s, "mtr-active"), h[i.name] && window.clearTimeout(h[i.name]), 
            h[i.name] = setTimeout(function() {
                X(u, "arrow-click"), X(s, "mtr-active");
            }, 1e3);
            var t, a = i.name;
            switch (a) {
              case "hours":
                t = A();
                break;

              case "minutes":
                t = w();
                break;

              case "dates":
                t = S();
                break;

              case "months":
                t = H();
                break;

              case "years":
                t = Y();
            }
            var n = c.defaultValues[a].indexOf(t);
            switch (--n < 0 && (n = c.defaultValues[a].length - 1), a) {
              case "hours":
                var r = c.defaultValues[a][n];
                !c.disableAmPm && M() && 12 !== r && (r += 12), E(r);
                break;

              case "minutes":
                k(c.defaultValues[a][n]);
                break;

              case "dates":
                V(c.defaultValues[a][n]);
                break;

              case "months":
                P(c.defaultValues[a][n]);
                break;

              case "years":
                z(c.defaultValues[a][n]);
            }
        }, !1), a), s = document.createElement("div");
        s.className = "mtr-content";
        var o, m, u = ((o = document.createElement("input")).value = i.value, o.type = "text", 
        o.className = "mtr-input " + i.name, o.style.display = "none", o.addEventListener("blur", function(n) {
            setTimeout(function() {
                !function() {
                    if (l) {
                        var e = o.value, t = o.getAttribute("data-old-value");
                        if (-1 < n.target.className.indexOf("arrow-click")) return X(n.target, "arrow-click");
                        if (-1 < o.className.indexOf("months") && e--, !1 === x(i.name, e)) return o.value = t, 
                        o.focus();
                        var a = i.name.substring(0, i.name.length - 1);
                        if ("dates" === i.name && (a = "day"), c.future && !C(a, e, t)) return "months" === i.name && t++, 
                        o.value = t, o.focus();
                        switch (o.style.display = "none", i.name) {
                          case "hours":
                            E(e);
                            break;

                          case "minutes":
                            k(e);
                            break;

                          case "dates":
                            V(e);
                            break;

                          case "months":
                            P(e);
                            break;

                          case "years":
                            z(e);
                        }
                    }
                }();
            }, 500);
        }, !1), o.addEventListener("wheel ", function(e) {
            e.preventDefault(), e.stopPropagation(), e.target, e.wheelDeltaY ? e.wheelDeltaY : e.deltaY;
            var t, a = parseInt(o.value), n = c[i.name].min, r = c[i.name].max, s = c[i.name].step;
            return "months" === i.name && (n++, r++), t = 0 < direction ? a < r ? a + s : n : n < a ? a - s : r, 
            o.value = t, !1;
        }, !1), o), d = ((m = y(i)).addEventListener("touchstart", function(e) {
            var t;
            Q = (t = e).touches[0].clientX, $ = t.touches[0].clientY;
        }, !1), m.addEventListener("touchmove", function(e) {
            !function(e, t) {
                if (Q && $) {
                    var a = e.touches[0].clientX, n = e.touches[0].clientY, r = Q - a, s = $ - n;
                    Math.abs(r) > Math.abs(s) || t(0 < s ? 1 : -1), $ = Q = null;
                }
            }(e, function(e) {
                var t = m.parentElement.parentElement;
                U(t, 0 < e ? ".mtr-arrow.up" : ".mtr-arrow.down").click();
            });
        }, !1), m);
        return e.appendChild(n), s.appendChild(u), s.appendChild(d), e.appendChild(s), e.appendChild(r), 
        e;
    }, b = function(e) {
        var t = document.createElement("div");
        t.className = "mtr-input-radio", c.references[e.name] = c.targetElement + "-input-" + e.name, 
        t.id = c.references[e.name];
        var a = document.createElement("form");
        a.name = c.references[e.name];
        var n = s("ampm", 1, "AM"), r = s("ampm", 0, "PM");
        function s(e, t, a) {
            var n = document.createElement("div"), r = document.createElement("label"), s = document.createElement("input"), i = c.targetElement + "-radio-" + e + "-" + a, o = document.createElement("span");
            o.className = "value", o.appendChild(document.createTextNode(a));
            var m = document.createElement("span");
            return m.className = "radio", r.setAttribute("for", i), r.appendChild(o), r.appendChild(m), 
            s.className = "mtr-input ", s.type = "radio", s.name = e, s.id = i, s.value = t, 
            n.appendChild(s), n.appendChild(r), s.addEventListener("change", function(e) {
                if (!D(t) && c.future) return D(!t), e.preventDefault(), e.stopPropagation(), !1;
            }, !1), n;
        }
        return a.appendChild(n), a.appendChild(r), a.ampm.value = I() ? "1" : "0", t.appendChild(a), 
        t;
    }, y = function(s) {
        var i = document.createElement("div");
        i.className = "mtr-values", s.values.forEach(function(e) {
            var t = "months" === s.name ? e + 1 : e, a = document.createElement("div");
            a.className = "mtr-default-value-holder", a.setAttribute("data-value", e);
            var n = document.createElement("div");
            if (n.className = "mtr-default-value", n.setAttribute("data-value", e), "minutes" === s.name && 0 === e ? n.appendChild(document.createTextNode("00")) : n.appendChild(document.createTextNode(t)), 
            a.appendChild(n), s.valuesNames) {
                var r = document.createElement("div");
                r.className = "mtr-default-value-name", r.appendChild(document.createTextNode(s.valuesNames[e])), 
                n.className += " has-name", a.appendChild(r);
            }
            i.appendChild(a);
        });
        function e() {
            var e = U(i.parentElement, ".mtr-input");
            -1 < e.className.indexOf("months") && (e.value = parseInt(e.value) + 1), e.style.display = "block", 
            e.focus();
        }
        return i.addEventListener("click", e, !1), i.addEventListener("touchstart", e, !1), 
        i.addEventListener("touchend", e, !1), i.addEventListener("wheel", function(e) {
            if (e.preventDefault(), e.stopPropagation(), o) return !1;
            var t, a = e.target.parentElement.parentElement.parentElement.parentElement;
            U(a, ".mtr-values"), U(a, ".mtr-input");
            return t = U(a, 0 < (e.wheelDeltaY ? e.wheelDeltaY : -1 * e.deltaY) ? ".mtr-arrow.up" : ".mtr-arrow.down"), 
            o = setTimeout(function() {
                T();
            }, 100), t.click(), !1;
        }, !1), i.addEventListener("touchstart", function(e) {
            return e.preventDefault(), e.stopPropagation(), !1;
        }, !1), i.addEventListener("touchmove", function(e) {
            return e.preventDefault(), e.stopPropagation(), !1;
        }, !1), i;
    }, x = function(e, t) {
        return t = parseInt(t), -1 < c.defaultValues[e].indexOf(t);
    }, C = function(e, t, a) {
        if (!1 === c.future) return !0;
        var n = new Date(), r = new Date(d.date.getTime());
        switch (e) {
          case "hour":
            I() && 12 === t && (t = 0), r.setHours(t);
            break;

          case "minute":
            r.setMinutes(t);
            break;

          case "ampm":
            var s = r.getHours(), i = s;
            t != a && (1 == t && 12 < s ? i = s - 12 : 1 == t && 12 == s ? i = 0 : 0 == t && s < 12 ? i = s + 12 : 0 == t && 12 == s && (i = 12)), 
            r.setHours(i);
            break;

          case "day":
            r.setDate(t);
            break;

          case "month":
            r.setMonth(t);
            break;

          case "year":
            r.setFullYear(t);
        }
        return n.setSeconds(0), n.setMilliseconds(0), r.setSeconds(0), r.setMilliseconds(0), 
        !(r.getTime() < n.getTime());
    }, T = function() {
        o = null;
    }, E = function(e, t) {
        var a = d.date.getHours(), n = C("hour", e, a), r = I();
        if (!c.disableAmPm && c.smartHours && 12 === e && r && (n = !0), c.validateAfter || n) {
            G("hour", "beforeChange", e, a);
            var s = e;
            !c.disableAmPm && 12 < e && (e -= 12), O(c.references.hours, e, t), c.validateAfter && !n ? (F(c.references.hours), 
            setTimeout(function() {
                !c.disableAmPm && 12 < a && (a -= 12), O(c.references.hours, a, t), G("hour", "onChange", e, a), 
                G("hour", "afterChange", e, a);
            }, c.transitionValidationDelay)) : (d.timestamp = d.date.setHours(s), !c.disableAmPm && c.smartHours && 12 === s && r ? (d.timestamp = d.date.setHours(12), 
            D(!1)) : c.disableAmPm || !c.smartHours || 23 !== s && 11 !== s || 12 !== a || r ? c.disableAmPm || c.smartHours || 12 !== s || !r ? d.timestamp = d.date.setHours(s) : d.timestamp = d.date.setHours(0) : (s = 11, 
            d.timestamp = d.date.setHours(s), D(!0)), !c.disableAmPm && 12 < s && (s -= 12, 
            D(!1)), G("hour", "onChange", e, a), G("hour", "afterChange", e, a));
        } else F(c.references.hours);
    }, A = function() {
        var e = d.date.getHours();
        if (c.disableAmPm) return e;
        var t = I();
        return 12 === e || 0 === e ? 12 : e < 12 && t ? e : e - 12;
    }, k = function(e, t) {
        var a = d.date.getMinutes(), n = C("minute", e, a);
        if (c.validateAfter || n) {
            G("minute", "beforeChange", e, a);
            c.defaultValues.minutes;
            O(c.references.minutes, e, t), c.validateAfter && !n ? (F(c.references.minutes), 
            setTimeout(function() {
                O(c.references.minutes, a, t), G("minute", "onChange", e, a), G("minute", "afterChange", e, a);
            }, c.transitionValidationDelay)) : (d.timestamp = d.date.setMinutes(e), G("minute", "onChange", e, a), 
            G("minute", "afterChange", e, a));
        } else F(c.references.minutes);
    }, w = function() {
        return d.date.getMinutes();
    }, D = function(e) {
        if (!c.disableAmPm) {
            var t = I();
            if (!C("ampm", e, t)) return j(c.references.ampm, e), n.isSafari && setTimeout(function() {
                N(c.references.ampm, t);
            }, 10), !1;
            G("ampm", "beforeChange", e, t);
            var a = d.date.getHours();
            A();
            return I() !== e && (1 == e && 12 <= a ? (a -= 12, d.timestamp = d.date.setHours(a)) : 0 == e && a < 12 && (a += 12, 
            d.timestamp = d.date.setHours(a))), d.ampm = e, N(c.references.ampm, e), G("ampm", "onChange", e, t), 
            G("ampm", "afterChange", e, t), !0;
        }
    }, N = function(e, t) {
        if (!c.disableAmPm) {
            var a = U(J(e), "form");
            a.ampm.value = t ? "1" : "0";
            var n = t ? "AM" : "PM", r = U(a, 'input.mtr-input[type="radio"][value="1"]'), s = U(a, 'input.mtr-input[type="radio"][value="0"]'), i = U(a, 'label[for="' + c.targetElement + "-radio-ampm-" + n + '"]');
            U(i, "checkbox");
            t ? (r.setAttribute("checked", ""), r.checked = !0, s.removeAttribute("checked")) : (s.setAttribute("checked", ""), 
            s.checked = !0, r.removeAttribute("checked"));
        }
    }, I = function() {
        var e = d.date.getHours();
        return 0 <= e && e <= 11;
    }, M = function() {
        return !I();
    }, V = function(e, t) {
        var a = d.date.getDate(), n = C("day", e, a);
        c.validateAfter || n ? (G("day", "beforeChange", e, a), O(c.references.dates, e, t), 
        c.validateAfter && !n ? (F(c.references.dates), setTimeout(function() {
            O(c.references.dates, a, t), G("day", "onChange", e, a), G("day", "afterChange", e, a);
        }, c.transitionValidationDelay)) : (d.timestamp = d.date.setDate(e), G("day", "onChange", e, a), 
        G("day", "afterChange", e, a))) : F(c.references.dates);
    }, S = function() {
        return d.date.getDate();
    }, P = function(e, t) {
        var a = d.date.getMonth(), n = C("month", e, a);
        c.validateAfter || n ? (G("month", "beforeChange", e, a), O(c.references.months, e, t), 
        c.validateAfter && !n ? (F(c.references.months), setTimeout(function() {
            O(c.references.months, a, t), G("month", "onChange", e, a), G("month", "afterChange", e, a);
        }, c.transitionValidationDelay)) : (d.timestamp = d.date.setMonth(e), r(e), G("month", "onChange", e, a), 
        G("month", "afterChange", e, a))) : F(c.references.months);
    }, H = function() {
        return d.date.getMonth();
    }, z = function(e, t) {
        var a = d.date.getFullYear(), n = C("year", e, a);
        c.validateAfter || n ? (G("year", "beforeChange", e, a), r(void 0, e), O(c.references.years, e, t), 
        c.validateAfter && !n ? (F(c.references.years), setTimeout(function() {
            O(c.references.years, a, t), G("year", "onChange", e, a), G("year", "afterChange", e, a);
        }, c.transitionValidationDelay)) : (d.timestamp = d.date.setFullYear(e), G("year", "onChange", e, a), 
        G("year", "afterChange", e, a))) : F(c.references.years);
    }, Y = function() {
        return d.date.getFullYear();
    }, L = function(e) {
        var t = K(e);
        d.date = new Date(t), d.timestamp = t;
        var a = d.date.getHours(), n = w(), r = 0 <= a && a < 12, s = S(), i = H(), o = Y();
        E(a = 0 === a ? 12 : a), k(n), P(i), z(o), V(s), D(r);
    }, O = function(e, t, a) {
        var n = J(e);
        if (a = a || !1, n) {
            var r = U(n, ".mtr-content"), s = U(n, '.mtr-values .mtr-default-value[data-value="' + t + '"]'), i = U(n, ".mtr-arrow.up"), o = U(n, ".mtr-input");
            scrollTo = function(e, t) {
                if (e && t) return t.offsetTop - e.offsetTop;
                return 0;
            }(r, s) + i.clientHeight, o.value = t, o.setAttribute("data-old-value", t), !1 === c.animations || a ? s.scrollIntoView() : W(r, scrollTo, c.transitionDelay);
        }
    }, F = function(e) {
        var t = U(J(e), ".mtr-content");
        R(t, "mtr-error"), setTimeout(function() {
            X(t, "mtr-error");
        }, c.transitionValidationDelay + 300);
    }, j = function(e, t) {
        "boolean" == typeof t && (t = !0 === t ? 1 : 0);
        var a = U(J(e), '.mtr-input[value="' + t + '"]');
        R(a, "mtr-error"), setTimeout(function() {
            X(a, "mtr-error");
        }, c.transitionValidationDelay + 300);
    }, G = function(t, e, a, n) {
        function r(e) {
            e(t, a, n);
        }
        switch (s[e][t].forEach(function(e) {
            r(e);
        }), s[e].all.forEach(function(e) {
            r(e);
        }), t) {
          case "hour":
          case "minute":
          case "ampm":
            s[e].time.forEach(function(e) {
                r(e);
            });
            break;

          case "day":
          case "month":
          case "year":
            s[e].date.forEach(function(e) {
                r(e);
            });
        }
    };
    function J(e) {
        return document.getElementById(e);
    }
    function U(e, t) {
        return e ? e.querySelector(t) : null;
    }
    function Z(e) {
        var t;
        if (null == e || "object" != typeof e) return e;
        if (e instanceof Array) {
            t = [];
            for (var a = 0, n = e.length; a < n; a++) t[a] = Z(e[a]);
            return t;
        }
        if (e instanceof Object) {
            for (var r in t = {}, e) e.hasOwnProperty(r) && (t[r] = Z(e[r]));
            return t;
        }
        throw new Error("Unable to copy obj! Its type isn't supported.");
    }
    function R(e, t) {
        e && (-1 < e.className.indexOf(t) || (e.className += " " + t));
    }
    function X(e, t) {
        e && -1 !== e.className.indexOf(t) && (e.className = e.className.replace(new RegExp(t, "g"), ""));
    }
    function q(e) {
        return Number(e) === e && e % 1 == 0;
    }
    function B(e) {
        for (var t = e.min, a = e.max, n = e.step, r = [], s = t; s <= a; s += n) r.push(s);
        return r;
    }
    var W = function(n, e, t) {
        if (e = Math.round(e), !((t = Math.round(t)) < 0)) if (0 !== t) {
            var r = Date.now(), s = r + t, i = n.scrollTop, o = e - i, m = n.scrollTop, u = function() {
                if (n.scrollTop == m) {
                    var e = Date.now(), t = function(e, t, a) {
                        if (a <= e) return 0;
                        if (t <= a) return 1;
                        var n = (a - e) / (t - e);
                        return n * n * (3 - 2 * n);
                    }(r, s, e), a = Math.round(i + o * t);
                    n.scrollTop = a, s <= e || n.scrollTop === m && n.scrollTop !== a || (m = n.scrollTop, 
                    setTimeout(function() {
                        u();
                    }, 0));
                }
            };
            setTimeout(function() {
                u();
            }, 0);
        } else n.scrollTop = e;
    }, K = function(e) {
        var t = 60 * c.minutes.step * 1e3, a = 0;
        return 1 < c.minutes.step && (a = (t - e % t) % e), e + a;
    }, Q = null, $ = null;
    function _() {
        return d.date.toDateString();
    }
    var ee = function() {
        if (i.timezones) {
            var e = "";
            return e += d.date.toTimeString().split(" ")[0], e += " GMT" + (0 < c.utcTimezone.offset ? "+" : "-") + (Math.abs(c.utcTimezone.offset) < 10 ? "0" : "") + Math.abs(c.utcTimezone.offset) + "00", 
            e += " (" + c.utcTimezone.abbr + ")";
        }
        return d.date.toTimeString();
    };
    this.init = t, this.setConfig = m, this.getFullTime = function() {
        return A() + ":" + w() + " " + (I() ? "AM" : "PM");
    }, this.getTimestamp = function() {
        return d.date.getTime();
    }, this.setHours = E, this.setMinutes = k, this.setAmPm = D, this.setDate = V, this.setMonth = P, 
    this.setYear = z, this.setTimestamp = L, this.values = d, this.toDateString = _, 
    this.toGMTString = function() {
        return d.date.toGMTString();
    }, this.toISOString = function() {
        return d.date.toISOString();
    }, this.toLocaleDateString = function() {
        return d.date.toLocaleDateString();
    }, this.toLocaleString = function() {
        return d.date.toLocaleString();
    }, this.toLocaleTimeString = function() {
        return d.date.toLocaleTimeString();
    }, this.toString = function() {
        return i.timezones ? _() + " " + ee() : d.date.toString();
    }, this.toTimeString = ee, this.toUTCString = function() {
        return d.date.toUTCString();
    }, this.format = function(e) {
        var t = A(), a = w(), n = I(), r = S(), s = H() + 1, i = Y(), o = c.utcTimezone.offset;
        function m(e, t, a) {
            var n = new RegExp(t + "(?!#%#)", "g");
            return e = e.replace(n, a + "#%#");
        }
        function u(e) {
            return e <= 9 ? "0" + e : e;
        }
        function d(e, t) {
            return c.disableAmPm ? e : 12 === e ? t ? 0 : 12 : t ? e : e + 12;
        }
        return e = m(e, "DD", u(r)), e = m(e, "D", r), e = m(e, "YYYY", i), e = m(e, "YY", i.toString().substr(2)), 
        e = m(e, "Y", i), e = m(e, "HH", u(d(t, n))), e = m(e, "hh", u(t)), e = m(e, "H", d(t, n)), 
        e = m(e, "h", t), e = m(e, "mm", u(a)), e = m(e, "m", w()), e = m(e, "a", n ? "am" : "pm"), 
        e = m(e, "A", n ? "AM" : "PM"), e = m(e, "MMM", c.monthsNames[s - 1]), e = m(e, "MM", u(s)), 
        e = m(e, "M", s), e = m(e, "ZZ", (0 < o ? "+" : "-") + u(Math.abs(o)) + ":00"), 
        e = (e = m(e, "Z", (0 < o ? "+" : "-") + Math.abs(o) + ":00")).split("#%#").join("");
    }, this.onChange = function(e, t) {
        s.onChange[e].push(t);
    }, this.beforeChange = function(e, t) {
        s.beforeChange[e].push(t);
    }, this.afterChange = function(e, t) {
        s.afterChange[e].push(t);
    }, t(e);
}